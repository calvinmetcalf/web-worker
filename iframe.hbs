var self = {
  onmessage: function(){},
  postMessage: function (rawData) {
    var data = '{{codeword}}' + JSON.stringify(rawData);
    window.parent.postMessage(data, '*');
  }
};
window.__onmessage = function(e) {
  if (typeof e === 'string') {
    e = {
      data: JSON.parse(e)
    };
  }
  try {
    self.onmessage(e);
  } catch (e) {
    window.onerror(e);
  }
};
window.onerror = function (errorMsg) {
  var data = '{{codeword}}error' + JSON.stringify({
    msg: errorMsg
  });
  window.parent.postMessage(data, '*');
  return true;
};
try {
  (function (window, document) {
    {{{script}}}
  }())
} catch (e) {
  window.onerror(err.messege);
}